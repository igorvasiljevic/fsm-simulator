const version="2.7",cache_name="fsm-simulator-cache-"+version,urls_to_cache=["./manifest.webmanifest","./bundle.css","./bundle.js","./","./simulator.html","./lessons/1.html","./lessons/2.html","./lessons/3.html","./lessons/4.html","./lessons/5.html","./res/icon.svg"];self.addEventListener("install",t=>{self.skipWaiting(),t.waitUntil(caches.open(cache_name).then(s=>s.addAll(urls_to_cache)))},{once:!0}),self.addEventListener("activate",t=>{self.clients.claim(),t.waitUntil(caches.keys().then(s=>Promise.all(s.filter(e=>e!==cache_name).map(e=>caches.delete(e)))))},{once:!0}),self.addEventListener("fetch",t=>{t.request.method==="GET"&&t.respondWith(caches.match(t.request).then(s=>s||fetch(t.request).then(e=>{if(!e||e.status!==200||e.type!=="basic")return e;const c=e.clone();return caches.open(cache_name).then(l=>l.put(t.request,c)),e})).catch(s=>{}))});
